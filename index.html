<!DOCTYPE html>
<html>
<head>
	<title>学生証番号学部検出</title>
</head>
<body>
<h1>立命館学生証番号学部検出</h1>
学生証番号を用いて入学年度と所属学部を出力します</br>
新設学科など、一部対応していない場合があります。</br>
半角数字のみ・複数行の入力に対応しています。</br>

<form name="form1" id="id_form1" action="">
<textarea name="textBox1" id="id_textBox1" type="number" rows="10" value="" /></textarea>
</br>
<input type="button" value="実行" onclick="onButtonClick();" />
</form>
<div id="output_message"></div>
</body>
<footer class="footer">
	</br></br>開発:<a href= "https://twitter.com/yuki12017825" >Yuuki Kimura</a>
</footer>
</html>

<script type="text/javascript">
function onButtonClick(){
	document.getElementById("output_message").innerHTML=''
	var input_text =document.getElementById("id_textBox1").value
	arr = input_text.split(/\r\n|\r|\n/);
	for (var j = 0; j < arr.length; j++) {
		num=arr[j]
		var numarg=[5,4,3,2,7,6,5,4,3,2,0]
		var array =[]
		var buf=10000000000
		var sum=0
		var college=0
		var grade=0
		var colleges_list = {
							11:"法学部",
                    		12:"経済学部",
                    		13:"経営学部",
		                    14:"産業社会学部",
		                    15:"国際関係学部",
		                    16:"文学部",
		                    17:"文学部",
		                    18:"政策科学部",
		                    19:"映像学部",
		                    20:"総合心理学部",
		                    21:"理工学部",
		                    22:"理工学部",
				　　 23:"理工学部",
				　　 24:"グローバル教養学部",				
		                    25:"食マネジメント学部",
		                    26:"情報理工学部",
		                    27:"生命科学部",
		                    28:"薬学部",
		                    29:"スポーツ健康科学部"
                    		}
		document.getElementById("output_message").insertAdjacentHTML('beforeend',j+1 +':'+num);
		if (String(num).length==11){
			for(var i=0;i<11;i++){
				array.push(Math.floor(num/buf));
		    	//document.getElementById("output_message").insertAdjacentHTML('beforeend',array[i]);
		    	sum=sum+numarg[i]*array[i];
		    	num=num%buf;
		    	buf=buf/10;
			}
			if (11-sum%11==array[10]||(11-sum%11==10&&array[10]==0)||(11-sum%11==11&&array[10]==0)) {
				if(array[0]*10+array[1] in colleges_list){
					document.getElementById("output_message").insertAdjacentHTML('beforeend',' は20'+array[4]+array[5]+'年度入学の'+colleges_list[array[0]*10+array[1]]+'所属です</br>');
				}
				else{
					document.getElementById("output_message").insertAdjacentHTML('beforeend',' は学部データがありません</br>');
				}
			}
			else{
				document.getElementById("output_message").insertAdjacentHTML('beforeend',' は正しい学生証番号ではありません。</br>');
				//document.getElementById("output_message").insertAdjacentHTML('beforeend',11-sum%11);
				//document.getElementById("output_message").insertAdjacentHTML('beforeend','</br>');
			}
			
		}
		else{
			document.getElementById("output_message").insertAdjacentHTML('beforeend',' は桁数等が間違っています</br>');
			//document.getElementById("output_message").insertAdjacentHTML('beforeend','は桁数が間違っています</br>');
		}
	}
}

</script>
